package com.btxtech.game.jsre.client;

import com.btxtech.game.jsre.client.common.Index;
import com.btxtech.game.jsre.common.gameengine.itemType.BaseItemType;
import com.btxtech.game.jsre.common.gameengine.itemType.BoundingBox;
import com.btxtech.game.jsre.common.gameengine.services.items.NoSuchItemTypeException;
import com.btxtech.game.jsre.common.gameengine.syncObjects.Id;
import com.btxtech.game.jsre.common.gameengine.syncObjects.SyncBaseItem;
import com.btxtech.game.services.AbstractServiceTest;
import org.junit.Assert;
import org.junit.Test;

/**
 * User: beat
 * Date: 21.03.2012
 * Time: 13:32:39
 */
public class TestImageHandler {
    @Test
    public void getItemTypeImageBackgroundUrl() throws NoSuchItemTypeException {
        BaseItemType baseItemType = new BaseItemType();
        baseItemType.setId(99);
        baseItemType.setBoundingBox(new BoundingBox(80, 80, 50, 100, AbstractServiceTest.ANGELS_24));
        SyncBaseItem syncBaseItem = new SyncBaseItem(new Id(1, 1, 1), new Index(10, 10), baseItemType, null, null);

        syncBaseItem.getSyncItemArea().setAngel(AbstractServiceTest.ANGELS_24[0]);
        Assert.assertEquals("url(/spring/item?idsm=99) no-repeat -0px 0px", ImageHandler.getItemTypeImageBackgroundUrl(syncBaseItem));

        syncBaseItem.getSyncItemArea().setAngel(AbstractServiceTest.ANGELS_24[1]);
        Assert.assertEquals("url(/spring/item?idsm=99) no-repeat -80px 0px", ImageHandler.getItemTypeImageBackgroundUrl(syncBaseItem));

        syncBaseItem.getSyncItemArea().setAngel(AbstractServiceTest.ANGELS_24[23]);
        Assert.assertEquals("url(/spring/item?idsm=99) no-repeat -1840px 0px", ImageHandler.getItemTypeImageBackgroundUrl(syncBaseItem));
    }
}
