<!--
  ~ Copyright (c) 2010.
  ~
  ~   This program is free software; you can redistribute it and/or modify
  ~   it under the terms of the GNU General Public License as published by
  ~   the Free Software Foundation; version 2 of the License.
  ~
  ~   This program is distributed in the hope that it will be useful,
  ~   but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~   GNU General Public License for more details.
  -->

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:wicket="http://wicket.apache.org/dtds.data/wicket-xhtml1.4-strict.dtd" style="height: 100%;margin:0;border:0;padding:0">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <link type="text/css" rel="stylesheet" href="Game.css">
    <title>Control the Land</title>
    <script type="text/javascript">
        window.onerror = handleError;

        function handleError(message, file, lineNumber) {
            errorMessage = "InPageError:\n" + message + " File: " + file + " Linenumber: " + lineNumber;
            var head = document.getElementsByTagName('head')[0];
            var script = document.createElement('script');
            script.type = 'text/javascript';
            script.src = '/spring/lsc?e=' + errorMessage;
            head.appendChild(script);
            return true;
        }

        function showTable() {
            document.getElementById("startupTaskTable").style.visibility = "visible";
            document.getElementById("miniLoading").style.visibility = "hidden";
        }
    </script>
    <script type="text/javascript" language="javascript" src="game/game.nocache.js"></script>
    <style type="text/css">
        table.stats {
            font-family: Verdana, Geneva, Arial, Helvetica, sans-serif;
            font-weight: normal;
            font-size: 13px;
            color: #fff;
            width: 280px;
            background-color: #666;
            border: 0;
            border-collapse: collapse;
            border-spacing: 0;
        }

        table.stats td {
            background-color: #CCC;
            color: #000;
            text-align: left;
            border: 1px #000000 solid;
            height: 24px;
        }

        table.stats td.time {
            background-color: #CCC;
            color: #000;
            border: 1px #000000 solid;
            height: 24px;
            text-align: right;
        }

        table.stats td.hed {
            background-color: #666;
            color: #fff;
            padding: 4px;
            text-align: left;
            border-bottom: 1px #000000 solid;
            font-size: 15px;
            font-weight: bold;
        }
    </style>
</head>

<body style="height: 100%;">
<script type="text/javascript">
    var ctlStartTime = new Date().getTime();
</script>
<iframe src="javascript:''" id="__gwt_historyFrame" tabIndex='-1'
        style="position:absolute;width:0;height:0;border:0"></iframe>

<div wicket:id="startupSeq"
     style="overflow:hidden; visibility:hidden;position:absolute;top:0; left:0;height:0;width:0"></div>

<div style="position:fixed;top:0; left:0;height:100%;width:100%;z-index:100;background-color:#000000" id="startScreen">
    <table style="height:100%;width:100%">
        <tr align="center">
            <td valign="middle">
                <a style="text-decoration:none" href="javascript:showTable()">
                    <p style="color:#FFFFFF;font-family:Arial, Verdana;font-size:3.0em">Loading Game...</p>
                    <p id="progressText" style="color:#FFFFFF;font-family:Arial, Verdana;font-size:1.0em" wicket:id="startupTaskText"></p>
                </a>
                <table style="border-style:solid; border-width:1px; border-color:#FFFFFF; width:30em">
                    <tr>
                        <td id="progressBar" style="background:#FFFFFF; width:1em; height:0.5em"></td>
                        <td></td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr align="center">
            <td valign="middle">
                <table class="stats" id="startupTaskTable" style="visibility:hidden;">
                    <tr>
                        <td class="hed" colspan="3">Start game engine</td>
                    </tr>
                    <tr wicket:id="tasks">
                        <td height="24" width="24"><img wicket:id="taskImageLoad"/><img wicket:id="taskImageDone"/><img
                                wicket:id="taskImageFailed"/></td>
                        <td wicket:id="taskName"></td>
                        <td class="time" wicket:id="taskTime" align="right"></td>
                    </tr>
                </table>
                <label>
                    <input type="button" name="Text 2" value="Close" id="startScreenClose" disabled="true"
                           style="visibility:hidden;">
                </label>
            </td>
        </tr>
    </table>
</div>

</body>
</html>
