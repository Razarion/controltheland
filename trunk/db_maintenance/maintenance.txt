Running MYSQL on windows
------------------------
my.ini add:
[mysqld]
lower_case_table_names=2

User Tracking
-------------
DELETE FROM TRACKER_USER_HISTORY;
DELETE FROM TRACKER_GAME_STARTUP;
DELETE FROM TRACKER_PAGE_ACCESS;
DELETE FROM TRACKER_USER_COMMAND;
DELETE FROM TRACKER_USER_ACTION;
DELETE FROM TRACKER_MISSION_ACTION;
DELETE FROM TRACKER_BROWSER_DETAILS;
DELETE FROM TRACKER_USER_MESSAGE;
DELETE FROM TRACKING_LEVEL_PROMOTION;
DELETE FROM HISTORY

DELETE FROM xxxxx WHERE timeStamp < '2010-04-01 00:00:00';

Delete technical Tracking
-------------------------
DELETE FROM CLIENT_LOG_ENTRY
DELETE FROM CONNECTION_STATISTICS

ARQ
---
INSERT INTO USER_ARQ (user_name, arq_name) SELECT u.name, a.name FROM USER u, ARQ a where a.name = "FORUM_POST"

Delete Base Backup
------------------
UPDATE BACKUP_GENERIC_ITEM SET resourceTarget_Id=NULL;
UPDATE BACKUP_GENERIC_ITEM SET baseTarget_id=NULL;
DELETE FROM BACKUP_GENERIC_ITEM;
DELETE FROM BACKUP_ENTRY;
DELETE FROM BACKUP_BASE;

------------------
update TRACKER_CLOSE_WINDOW set clientTimeStamp = 0
update TRACKER_TOTAL_STARTUP set clientTimeStamp = 0

------------------
update BACKUP_BASE set baseId = id - 3266;
ALTER TABLE `gamedb`.`CONNECTION_STATISTICS` DROP COLUMN `userName`;
TUTORIAL_CONFIG ownBaseId, enemyBaseId;
ALTER TABLE `gamedb`.`BACKUP_BASE` DROP COLUMN `name`;
ALTER TABLE `gamedb`.`TRACKER_USER_COMMAND` DROP COLUMN `userName`;

------------------
Buildup added
update BACKUP_GENERIC_ITEM set buildup = 1.0
ALTER TABLE `gamedb`.`ITEM_FACTORY_TYPE` MODIFY COLUMN `progress` DOUBLE NOT NULL;
ALTER TABLE `gamedb`.`ITEM_BUILDER_TYPE` MODIFY COLUMN `progress` DOUBLE NOT NULL;
UPDATE ITEM_TYPE set buildup = 10 where TYPE = "BASE"

------------------
Item Limit
UPDATE GUIDANCE_LEVEL set houseSpace = 10, itemLimit = 10
UPDATE TUTORIAL_TASK_CONFIG set houseCount = 10, itemLimit = 10, isOptionAllowed = false, isSellingAllowed = false

------------------
Update TUTORIAL_CONFIG set showTrainingModeText = true
Update TUTORIAL_CONFIG set failOnOwnItemsLost = true

------------------
CREATE TABLE TERRAIN_IMAGE_POSITION_ORIG SELECT * FROM TERRAIN_IMAGE_POSITION

DROP TABLE IF EXISTS `gamedb`.`TERRAIN_IMAGE_POSITION_TMP`;
CREATE TABLE  `gamedb`.`TERRAIN_IMAGE_POSITION_TMP` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `x` int(11) NOT NULL,
  `y` int(11) NOT NULL,
  `dbTerrainImage_id` int(11) DEFAULT NULL,
  `dbTerrainSetting_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `FKD008EECFAF8A9CC6` (`dbTerrainImage_id`),
  KEY `FKD008EECF5187F1A6` (`dbTerrainSetting_id`),
  CONSTRAINT `FKD008EECF5187F1A6` FOREIGN KEY (`dbTerrainSetting_id`) REFERENCES `terrain_settings` (`id`),
  CONSTRAINT `FKD008EECFAF8A9CC6` FOREIGN KEY (`dbTerrainImage_id`) REFERENCES `terrain_image` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


ALTER TABLE `gamedb`.`TERRAIN_IMAGE_POSITION` MODIFY COLUMN `id` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
 DROP PRIMARY KEY,
 ADD PRIMARY KEY  USING BTREE(`id`);

 INSERT INTO TERRAIN_IMAGE_POSITION_TMP (id, x, y, dbTerrainImage_id, dbTerrainSetting_id) SELECT id, indexX, indexY, dbTerrainImage_id, dbTerrainSetting_id FROM TERRAIN_IMAGE_POSITION

  SELECT count(distinct TERRAIN_IMAGE_POSITION.id)
FROM TERRAIN_IMAGE_POSITION, TERRAIN_IMAGE_POSITION AS vtable
WHERE vtable.id > TERRAIN_IMAGE_POSITION.id
AND vtable.x = TERRAIN_IMAGE_POSITION.x
AND vtable.y = TERRAIN_IMAGE_POSITION.y
AND vtable.dbTerrainImage_id = TERRAIN_IMAGE_POSITION.dbTerrainImage_id
AND vtable.dbTerrainSetting_id = TERRAIN_IMAGE_POSITION.dbTerrainSetting_id

DELETE
FROM TERRAIN_IMAGE_POSITION
USING TERRAIN_IMAGE_POSITION, TERRAIN_IMAGE_POSITION AS vtable
WHERE vtable.id > TERRAIN_IMAGE_POSITION.id
AND vtable.x = TERRAIN_IMAGE_POSITION.x
AND vtable.y = TERRAIN_IMAGE_POSITION.y
AND vtable.dbTerrainImage_id = TERRAIN_IMAGE_POSITION.dbTerrainImage_id
AND vtable.dbTerrainSetting_id = TERRAIN_IMAGE_POSITION.dbTerrainSetting_id

SET @i := 0;
UPDATE TERRAIN_IMAGE_POSITION SET id = (@i := (@i + 1));

------------------
Delete Backup

DROP TABLE IF EXISTS BACKUP_LEVEL_COMPARISON_SYNC_ITEM_TYPE;
DROP TABLE IF EXISTS BACKUP_LEVEL_COMPARISON;
DROP TABLE IF EXISTS BACKUP_USER_STATUS;
DROP TABLE IF EXISTS BACKUP_LEVEL_STATUS;
DROP TABLE IF EXISTS BACKUP_GENERIC_ITEM;
DROP TABLE IF EXISTS BACKUP_ENTRY;
DROP TABLE IF EXISTS BACKUP_BASE;
DROP TABLE IF EXISTS BACKUP_USER_ITEM_TYPE_ACCESS_BOUGHT;
DROP TABLE IF EXISTS BACKUP_USER_ITEM_TYPE_ACCESS;

------------------
Migrate security
UPDATE USER set accountNonExpired = true, accountNonLocked = true, credentialsNonExpired = true, enabled = true

------------------
Terrain

Remove double entries
ALTER IGNORE TABLE TERRAIN_IMAGE_POSITION ADD UNIQUE INDEX(tileX, tileY, dbTerrainImage_id, dbTerrainSetting_id)

SELECT count(*) FROM TERRAIN_IMAGE_POSITION group by tileX, tileY, dbTerrainSetting_id, dbTerrainImage_id having count(*) > 0

INSERT INTO USER_SECURITY_ROLE VALUE('Markus','ROLE_ADMINISTRATOR')

ALTER TABLE `gamedb`.`TUTORIAL_TASK_ALLOWED_ITEMS` CHANGE COLUMN `count` `theCount` INT(11) NOT NULL;

------------------
Tracking
ALTER TABLE `gamedb`.`TRACKER_EVENT_START` DROP COLUMN `xResolution`,
 DROP COLUMN `yResolution`;

------------------
History
 SELECT * FROM GAME_HISTORY where type = 6
 
 UPDATE TUTORIAL_TASK_CONFIG T
 INNER JOIN TUTORIAL_TASK_CONFIG S
 SET T.finishImageData = S.finishImageData
WHERE S.id = 12